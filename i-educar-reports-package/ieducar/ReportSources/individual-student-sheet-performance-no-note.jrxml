<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 7.0.2.final using JasperReports Library version 6.4.3  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="portabilis_individual_student_performance" language="groovy" pageWidth="595" pageHeight="842" columnWidth="595" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="44cd7ba6-0acb-42d2-86a2-e0feb1905820">
	<property name="ireport.zoom" value="1.6500000000000192"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="202"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
	<parameter name="ano" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="instituicao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="escola" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="curso" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="serie" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="turma" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="situacao" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[0]]></defaultValueExpression>
	</parameter>
	<parameter name="emitir_nota_exame" class="java.lang.Boolean">
		<defaultValueExpression><![CDATA[true]]></defaultValueExpression>
	</parameter>
	<parameter name="matricula" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new java.lang.Integer(0)]]></defaultValueExpression>
	</parameter>
	<parameter name="situacao_matricula" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="etapa" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="net.sf.jasperreports.json.source" class="java.lang.String">
		<defaultValueExpression><![CDATA[$P{source}]]></defaultValueExpression>
	</parameter>
	<parameter name="source" class="java.lang.String"/>
	<parameter name="dominio" class="java.lang.String"/>
	<parameter name="tipo_nota" class="java.lang.Integer"/>
	<parameter name="merge_disciplinas_desconsideradas_aprovacao" class="java.lang.String"/>
	<queryString language="json">
		<![CDATA[student_sheet_performance]]>
	</queryString>
	<field name="nome_disciplina" class="java.lang.String"/>
	<field name="desconsidera_para_progressao" class="java.lang.Boolean"/>
	<field name="situacao" class="java.lang.String"/>
	<field name="nota1" class="java.lang.String"/>
	<field name="nota1recuperacao" class="java.math.BigDecimal"/>
	<field name="nota2" class="java.lang.String"/>
	<field name="nota2recuperacao" class="java.math.BigDecimal"/>
	<field name="nota3" class="java.lang.String"/>
	<field name="nota3recuperacao" class="java.math.BigDecimal"/>
	<field name="nota4" class="java.lang.String"/>
	<field name="nota4recuperacao" class="java.math.BigDecimal"/>
	<field name="resultado_anual" class="java.math.BigDecimal"/>
	<field name="media_anual" class="java.math.BigDecimal"/>
	<field name="exame" class="java.math.BigDecimal"/>
	<field name="total_geral_faltas_componente" class="java.math.BigDecimal"/>
	<field name="media_final" class="java.lang.String"/>
	<field name="medianum" class="java.math.BigDecimal"/>
	<field name="nota_exame" class="java.lang.String"/>
	<field name="quantidade_etapas" class="java.lang.Integer"/>
	<field name="etapa_tipo" class="java.lang.String"/>
	<field name="ativo_na_turma" class="java.lang.Integer"/>
	<field name="tem_nota" class="java.lang.Boolean"/>
	<field name="saiu_da_turma" class="java.lang.Boolean"/>
	<field name="saiu_etapa" class="java.lang.Integer"/>
	<field name="cursou_etapa_max" class="java.lang.Integer"/>
	<variable name="situacao_final" class="java.lang.String" calculation="Highest">
		<variableExpression><![CDATA[$F{situacao}]]></variableExpression>
	</variable>
	<variable name="media_global" class="java.math.BigDecimal" calculation="Average">
		<variableExpression><![CDATA[$F{medianum}.doubleValue()]]></variableExpression>
	</variable>
	<group name="performance" keepTogether="true">
		<groupExpression><![CDATA[$P{matricula}]]></groupExpression>
		<groupHeader>
			<band height="20">
				<staticText>
					<reportElement x="0" y="2" width="566" height="18" uuid="6c2a6908-8336-4efc-8be5-483d9a7c909d"/>
					<box>
						<pen lineWidth="0.25"/>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[APROVEITAMENTO]]></text>
				</staticText>
			</band>
			<band height="27">
				<printWhenExpression><![CDATA[$F{quantidade_etapas} == 4 || true]]></printWhenExpression>
				<staticText>
					<reportElement x="447" y="1" width="118" height="11" uuid="8322b3a9-4ee3-4a0c-ac53-7fe6decdc930"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="8"/>
					</textElement>
					<text><![CDATA[NOTAS]]></text>
				</staticText>
				<staticText>
					<reportElement x="1" y="5" width="439" height="14" uuid="fd780404-5397-4636-8d31-3e9c760605e8"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="8"/>
					</textElement>
					<text><![CDATA[COMPONENTE CURRICULAR]]></text>
				</staticText>
				<textField>
					<reportElement x="538" y="14" width="27" height="11" uuid="f60ef797-8e0f-48fe-b69b-9142b7d8d5c4"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{quantidade_etapas} >= 4 ? "4ยบ " + $F{etapa_tipo} : "-"]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="441" y="0" width="1" height="27" uuid="7fc4d98b-4781-4c8b-b60d-596fe4e6b2cc"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<line>
					<reportElement x="442" y="13" width="123" height="1" uuid="f67cd069-89ac-4181-a3a3-89334b91bc87">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<line>
					<reportElement x="474" y="13" width="1" height="14" uuid="94bb1b60-4fae-48d9-a9ca-8e31edab76db"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<textField>
					<reportElement x="507" y="14" width="27" height="11" uuid="af36deaf-ca2f-4a8b-aa46-8860559791ca"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{quantidade_etapas} >= 3 ? "3ยบ " + $F{etapa_tipo} : "-"]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="565" y="0" width="1" height="27" uuid="62edd78f-92f3-4233-b45b-f78d8618dc29"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<textField>
					<reportElement x="476" y="14" width="27" height="11" uuid="690ce1d1-d535-4bb7-bdfb-8174e0abb02e"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{quantidade_etapas} >= 2 ? "2ยบ " + $F{etapa_tipo} : "-"]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="-1" width="1" height="28" uuid="b3a90e4a-48f9-438e-bf2c-5858d5b6efb5">
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<textField>
					<reportElement x="446" y="14" width="27" height="11" uuid="2115ac8e-99da-496f-925d-aa70dc38471d">
						<printWhenExpression><![CDATA[$F{quantidade_etapas} == 1]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="6"/>
					</textElement>
					<textFieldExpression><![CDATA["Anual"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="446" y="14" width="27" height="11" uuid="27c1623c-065a-412a-9e87-d33423645b1f">
						<printWhenExpression><![CDATA[$F{quantidade_etapas} > 1]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="6"/>
					</textElement>
					<textFieldExpression><![CDATA["1ยบ " + $F{etapa_tipo}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="505" y="13" width="1" height="14" uuid="ce9aba7b-b070-4daa-ae70-48312024451e"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
				<line>
					<reportElement x="536" y="13" width="1" height="14" uuid="8a776282-0171-4bfa-b55b-5b82dac4fc69"/>
					<graphicElement>
						<pen lineWidth="0.25"/>
					</graphicElement>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="17" splitType="Stretch">
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<textField isBlankWhenNull="true">
					<reportElement x="1" y="-1" width="322" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="3d4cba75-4845-4c96-8ee5-3693af5916c5">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
					</reportElement>
					<box>
						<pen lineWidth="0.25"/>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Middle">
						<font fontName="DejaVu Sans" size="8" isBold="true"/>
						<paragraph leftIndent="5" spacingBefore="2"/>
					</textElement>
					<textFieldExpression><![CDATA["Situaรงรฃo final no ano letivo de "  + $P{ano}  + ": "+ $V{situacao_final}.toUpperCase()]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="13" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<printWhenExpression><![CDATA[$F{quantidade_etapas} == 4 || true]]></printWhenExpression>
			<rectangle>
				<reportElement stretchType="ElementGroupHeight" mode="Opaque" x="0" y="0" width="565" height="13" forecolor="#FFFFFF" backcolor="#FFFFFF" uuid="31f4ee65-09f0-489c-b178-f91ba385052f"/>
				<graphicElement>
					<pen lineWidth="0.25" lineStyle="Solid" lineColor="#0A0A0A"/>
				</graphicElement>
			</rectangle>
			<textField pattern="#0.0" isBlankWhenNull="true">
				<reportElement x="447" y="1" width="26" height="11" forecolor="#000000" backcolor="#FFFFFF" uuid="9840a00d-adea-4426-a3f6-1d778ed4d45e">
					<printWhenExpression><![CDATA[$F{ativo_na_turma} == 0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" markup="html">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{saiu_etapa} >= 1 ? ($F{saiu_etapa} == 1 ? "-" : ($P{dominio}.contains("japaratinga") || $P{dominio}.contains("coite") ? "APC" : "PPC")) : "-"]]></textFieldExpression>
			</textField>
			<textField pattern="#0.0" isBlankWhenNull="true">
				<reportElement x="463" y="1" width="26" height="11" forecolor="#000000" backcolor="#FFFFFF" uuid="e777cca9-d769-4e39-be43-01f55e78666d">
					<printWhenExpression><![CDATA[$F{ativo_na_turma} == 1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" markup="html">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{cursou_etapa_max} >= 1) ? ($P{dominio}.contains("japaratinga") || $P{dominio}.contains("coite") ? "APC" : "PPC") : "-"]]></textFieldExpression>
			</textField>
			<textField pattern="#0.0" isBlankWhenNull="true">
				<reportElement x="477" y="1" width="26" height="11" uuid="2344dec8-0e37-4c33-9841-4b3b7dade92c">
					<printWhenExpression><![CDATA[$F{ativo_na_turma} == 0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" markup="html">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{saiu_etapa} >= 2 ? ($F{saiu_etapa} == 2 ? "-" : ($P{dominio}.contains("japaratinga") || $P{dominio}.contains("coite") ? "APC" : "PPC")) : "-"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="478" y="0" width="26" height="11" uuid="48b3461e-6c11-4eda-be2d-a5a9f2fb9fd3">
					<printWhenExpression><![CDATA[$F{ativo_na_turma} == 1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" markup="html">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{cursou_etapa_max} >= 2) 
						? (
							(!$F{tem_nota} && !$F{desconsidera_para_progressao})
								? (
									$P{dominio}.contains("japaratinga") || $P{dominio}.contains("coite")
										? "APC"
										: "PPC"
								)
								: new java.text.DecimalFormat("##0.0").format(Double.parseDouble($F{nota2}))
						  )
						: "-"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="0" y="0" width="441" height="11" uuid="7a070405-d463-4e82-bf5a-c6c99f075120"/>
				<textElement>
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nome_disciplina}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement stretchType="ElementGroupHeight" x="442" y="0" width="0" height="13" uuid="45b50c55-b79a-4a6d-8d9e-5253df7e20aa">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<rectangle>
				<reportElement stretchType="ElementGroupHeight" x="475" y="0" width="0" height="13" uuid="eb37618f-5a80-4315-9ab3-3b6cb2ee17a3">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
			<textField pattern="#0.0" isBlankWhenNull="true">
				<reportElement x="508" y="1" width="26" height="11" uuid="9577053f-dd74-42c5-b56e-dfebedb718aa">
					<printWhenExpression><![CDATA[$F{ativo_na_turma} == 0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" markup="html">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{saiu_etapa} >= 3 ? ($F{saiu_etapa} == 3 ? "-" : ($P{dominio}.contains("japaratinga") || $P{dominio}.contains("coite") ? "APC" : "PPC")) : "-"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="508" y="0" width="26" height="11" uuid="90a7f72a-e8f1-42a3-a4cf-c273c6149fa3">
					<printWhenExpression><![CDATA[$F{ativo_na_turma} == 1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" markup="html">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{cursou_etapa_max} >= 3)
						? (
							(!$F{tem_nota} && !$F{desconsidera_para_progressao})
								? (
									$P{dominio}.contains("japaratinga") || $P{dominio}.contains("coite")
										? "APC"
										: "PPC"
								)
								: new java.text.DecimalFormat("##0.0").format(Double.parseDouble($F{nota3}))
						  )
						: "-"]]></textFieldExpression>
			</textField>
			<textField pattern="#0.0" isBlankWhenNull="true">
				<reportElement x="539" y="1" width="26" height="11" uuid="12c04f41-b44c-480f-8330-90d92250edbd">
					<printWhenExpression><![CDATA[$F{ativo_na_turma} == 0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" markup="html">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{saiu_etapa} >= 4 ? ($F{saiu_etapa} == 4 ? "-" : ($P{dominio}.contains("japaratinga") || $P{dominio}.contains("coite") ? "APC" : "PPC")) : "-"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="539" y="0" width="26" height="11" uuid="d818fe14-48b0-44ac-8694-d718ff868105">
					<printWhenExpression><![CDATA[$F{ativo_na_turma} == 1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" markup="html">
					<font fontName="DejaVu Sans" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{cursou_etapa_max} >= 4)
						? (
							(!$F{tem_nota} && !$F{desconsidera_para_progressao})
								? (
									$P{dominio}.contains("japaratinga") || $P{dominio}.contains("coite")
										? "APC"
										: "PPC"
								)
								: new java.text.DecimalFormat("##0.0").format(Double.parseDouble($F{nota4}))
						  )
						: "-"]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement stretchType="ElementGroupHeight" x="506" y="0" width="0" height="13" uuid="1239b2eb-bfdd-41a0-95a4-37d131a203ef">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<graphicElement>
					<pen lineWidth="0.25"/>
				</graphicElement>
			</rectangle>
		</band>
	</detail>
</jasperReport>
